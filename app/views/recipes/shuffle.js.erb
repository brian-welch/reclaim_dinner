
function clearSummaryCards(){
  const card = document.querySelector(".index-recipe-summary-card");
  card.innerHTML = ""
}
clearSummaryCards();

function shuffleCard(id, newDisplayHtml) {
  const card = document.getElementById(id);
  if (card.dataset.locked === "false") {
    card.innerHTML = newDisplayHtml;
  }
}

function updateFieldFor(day, recipeId) {
  const inputId = `${day}_id`;
  const inputField = document.getElementById(inputId);
  inputField.value = recipeId;
}

function buildSummaryCards(newSummaryHtml){
  const card = document.querySelector(".index-recipe-summary-card");
  card.innerHTML += newSummaryHtml
}



<% @recipes.each do |day, recipe| %>
  var day = '<%= day.downcase %>';
  var newDisplayHtml = '<%= j render "recipes/recipe_display_card", recipe: recipe, day: day.capitalize %>';
  var newSummaryHtml = '<%= j render "recipes/recipe_summary_card", recipe: recipe %>';
  shuffleCard(day, newDisplayHtml);
  buildSummaryCards(newSummaryHtml);
  var card = document.getElementById(day);
  if (card.dataset.locked === "false") {
    updateFieldFor(day, <%= recipe.id %>)
  }
<% end %>


recipeLockButtonAction();
recipeInformationToggleAlt();


//  Have to re-declare the evenlisteners to re-apply them to the new document objects

// $(".index-single-recipe-image").hover(function () {
//   $(".index-single-recipe-image").not(this).toggleClass("index-single-recipe-unfocus");
//   $(this).toggleClass("index-single-recipe-focus");
//   $("#dynamic-recipe-name").html($(this).attr("data-recipe-name")).fadeIn(1);
// });
// $(".index-single-recipe-image").mouseout(function () {
//   $("#dynamic-recipe-name").fadeOut(1);
// });
// $(".index-single-recipe-image").click(function () {
//   $(".recipe-summary-block-outer").removeClass("show-summary");
//   $("#info_card-" + $(this).attr("data-recipe-id")).toggleClass("show-summary");
// });

// // the function below was taken/modified from: https://stackoverflow.com/questions/1403615/use-jquery-to-hide-a-div-when-the-user-clicks-outside-of-it
// $(document).mouseup(function(e) {
//   var container = $(".index-single-recipe-image");
//   // if the target of the click isn't the container nor a descendant of the container
//   if (!container.is(e.target) && container.has(e.target).length === 0)
//   {
//       $(".recipe-summary-block-outer").removeClass("show-summary");
//   }
// });










